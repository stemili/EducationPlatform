(this["webpackJsonpeducation-platform"]=this["webpackJsonpeducation-platform"]||[]).push([[0],{271:function(e,t,a){e.exports=a(568)},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},328:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},362:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},502:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},521:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},546:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),c=(a(276),a(7)),l=a(21),i=a(29),u=a(35),m=a.n(u),d=a(60),p=(a(277),a(278),a(68)),f=function(e){var t=p.a.Option,a=Object(n.useState)([{id:"1",name:"Development",icon:"code"},{id:"2",name:"Business",icon:"chart-bar"},{id:"3",name:"Photography",icon:"camera-retro"},{id:"4",name:"Design",icon:"pencil-alt"},{id:"5",name:"Marketing",icon:"ad"},{id:"6",name:"Lifestyle",icon:"smile"},{id:"7",name:"Music",icon:"music"},{id:"8",name:"Health",icon:"heart"}]),s=Object(c.a)(a,1)[0];return r.a.createElement(p.a,{value:e.selectedCategory,defaultValue:e.selectedCategory,style:{width:150,color:"#999"},className:"main-dropdown-cat",bordered:!1,size:"medium",onChange:function(t){return e.setDropDownValue(t.toLowerCase())}},r.a.createElement(t,{value:"all",key:"0",className:"dropdown-item"},"All"),s.map((function(e){return r.a.createElement(t,{value:e.name.toLowerCase(),key:e.id,className:"dropdown-item"},e.name)})))},h=a(569),E=a(106),g=a.n(E),b=a(33),v=a(36),y=new(function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"login",value:function(e,t){return C.post("/login",{username:e,password:t}).then((function(t){return t.data.accessToken&&(localStorage.setItem("user-jwt",JSON.stringify(t.data.accessToken)),localStorage.setItem("refresh-jwt",JSON.stringify(t.data.refreshToken))),e}))}},{key:"logout",value:function(){localStorage.removeItem("user-jwt"),localStorage.removeItem("refresh-jwt"),localStorage.removeItem("user-info")}},{key:"setJwt",value:function(e){localStorage.setItem("user-jwt",JSON.stringify(e))}},{key:"register",value:function(e){return C.post("/register",e)}},{key:"getRefreshToken",value:function(){return JSON.parse(localStorage.getItem("refresh-jwt"))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user-info"))}},{key:"getAuthHeader",value:function(){var e=JSON.parse(localStorage.getItem("user-jwt")),t=JSON.parse(localStorage.getItem("user-info"));return e&&t?"token ".concat(e):{}}}]),e}()),N="https://courses4me.herokuapp.com",w=g.a.create({baseURL:N});function S(){console.log("inside refresh");var e=y.getRefreshToken();return g()({url:N+"/token",method:"POST",data:JSON.stringify({refreshToken:e}),headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;a.refresh=e,console.log("inside resolving"),y.setJwt(a.accessToken),w.defaults.headers.common.authorization=y.getAuthHeader()})).catch((function(e){console.log("req is not good"),console.log(e)}))}w.interceptors.response.use((function(e){return e}),function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Promise.reject(t),n="",!t.response||420!==t.response.status||!y.getAuthHeader()){e.next=17;break}return e.prev=3,n=t.response.config,e.next=7,S();case 7:return n.headers.authorization=y.getAuthHeader(),e.next=10,g()(n);case 10:r=e.sent,a=Promise.resolve(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),401===e.t0.response.status&&(y.logout(),window.location.reload());case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}());var C=w,k=(a(328),function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),m=u[0],d=u[1],p=h.a.Option,f=Object(n.useRef)(null);Object(n.useEffect)((function(){C.get("/courses/search?title=".concat(m)).then((function(e){return o(e.data)}))}),[m]),Object(n.useEffect)((function(){e.focusSearch&&f.current.focus()}),[e]);return r.a.createElement(h.a,{style:{width:350,border:"1px solid #ffffff"},placeholder:"Search for courses...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onBlur:function(){return e.setFocusSearch(!1)},open:e.focusSearch,ref:f,onFocus:function(){return e.setFocusSearch(!0)},size:"large",value:m,onSelect:function(t){d(t),e.desktop||e.closeMenu(),e.setFocusSearch(!1)},onChange:function(e){return d(e)}},s!==[]?function(){var t=s;return"all"!==e.dropdownValue&&(t=s.filter((function(t){return t.category===e.dropdownValue}))),t.map((function(e){return r.a.createElement(p,{key:e.id,value:e.title},r.a.createElement(l.b,{to:"/courses/".concat(e.id)},r.a.createElement("div",{className:"option-wrapper"},r.a.createElement("img",{src:e.cover_photo,alt:e.title}),r.a.createElement("span",null,e.title),r.a.createElement("span",null,e.rating))))}))}():"")}),O=a(85),j=a(156),U=a(580),I=function(e){var t=e.toggleModal,a=e.currentUser,s=e.handleLogout,o=e.dashboard,i=e.selectedCategory,u=e.setSelectedCategory,p=e.focusSearch,h=e.setFocusSearch,E=e.menuOpen,g=e.setMenuOpen,b=Object(n.useState)(!0),v=Object(c.a)(b,2),y=v[0],N=v[1];Object(n.useEffect)((function(){window.innerWidth>990?N(!0):N(!1)}),[]);var w=function(){console.log("closing"),g(!1)},S=r.a.useRef(),C=r.a.createElement(O.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(l.b,{to:"/userprofile"},r.a.createElement("p",{className:"nav-drop-item-l"},"My Profile"))),r.a.createElement(O.a.Item,{onClick:s},r.a.createElement("p",{className:"nav-drop-item-l"},"Log Out")));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mobile-left-logo"},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{src:"/EducationPlatform/resources/logo-light.png",alt:""}))),r.a.createElement("div",{ref:S,className:E?"menu-btn-resp open":"menu-btn-resp",onClick:function(){return g(!E)}},r.a.createElement("div",{className:"menu-burger-btn"})),r.a.createElement("div",{className:o?"main-nav main-nav-dash stay-open":"main-nav stay-open",style:E?{transform:"translateX(0%)"}:{transform:"translateX(-100%)"}},r.a.createElement("div",{className:o?"container-nav-dash":"container-nav"},r.a.createElement("div",{className:"main-nav-left"},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{src:"/EducationPlatform/resources/text_logo.png",alt:""}))),o?"":r.a.createElement("div",{className:"main-nav-mid"},r.a.createElement(f,{setDropDownValue:u,selectedCategory:i}),r.a.createElement(k,{dropdownValue:i,focusSearch:p,setFocusSearch:h,desktop:y,closeMenu:w})),r.a.createElement("nav",{className:"main-nav-right"},r.a.createElement("nav",{className:"main-nav-right-content"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o?"nav-user-info nav-user-dashboard":"nav-user-info"},r.a.createElement(l.b,{to:"/userprofile"},r.a.createElement("img",{className:"nav-avatar",src:a.picture?a.picture:"https://www.in-tend.co.uk/images/default.jpg",alt:"useravatar"})),r.a.createElement(j.a,{overlay:C,placement:"bottomRight"},r.a.createElement("span",{className:"ant-dropdown-link drop"},a.username," ",r.a.createElement(U.a,null))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0,"login");case 2:y||w();case 3:case"end":return e.stop()}}),e)})))},"Log in"),r.a.createElement("li",{onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0,"signup");case 2:y||w();case 3:case"end":return e.stop()}}),e)})))},"Sign up")))))))},T=a(51),P=a(49),A=(a(340),function(e){var t=e.items.map((function(e,t){return r.a.createElement("li",{key:t},e)}));return r.a.createElement("ul",{className:"footer-list"},t)}),D=function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{style:this.props.dashboard?{display:"none"}:{}},r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("div",{className:"footer-upper"},r.a.createElement("div",{className:"footer-menu"},r.a.createElement(A,{items:["Teach","Bussiness","App","About Us"]})),r.a.createElement("div",{className:"footer-menu"},r.a.createElement(A,{items:["Careers","Blog","Help and Support","Affiliate"]})),r.a.createElement("div",{className:"footer-menu"},r.a.createElement(A,{items:["Terms","Privacy policy","Sitemap","Cookie policy"]}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("img",{src:"/EducationPlatform/resources/logo.png",alt:"Logo"}),r.a.createElement("span",null,"Discite ",r.a.createElement("sup",null,"\xa9")," All rights reserved."))))}}]),a}(r.a.Component),x=a(269),F=function(e){var t=e.component,a=e.name,n=e.setDashboard,s=Object(x.a)(e,["component","name","setDashboard"]);return r.a.createElement(i.b,Object.assign({},s,{render:function(e){return y.getCurrentUser()?"administrator"!==y.getCurrentUser().role_id&&"dashboard"===a||"teacher"!==y.getCurrentUser().role_id&&"createcourse"===a?r.a.createElement(i.a,{to:{pathname:"/"}}):"administrator"===y.getCurrentUser().role_id&&"dashboard"===a?r.a.createElement(t,Object.assign({},e,{setDashboard:n})):r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/"}})}}))},_=(a(341),function(e){var t=e.toggleModal,a=Object(n.useState)(0),s=Object(c.a)(a,2),o=s[0],i=s[1],u=Object(n.useState)(0),m=Object(c.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){C.get("/users/teachers-count").then((function(e){return i(e.data)})),C.get("/courses/count").then((function(e){return p(e.data)}))}),[]),r.a.createElement("div",{className:"intro-main"},r.a.createElement("div",{className:"intro-image-layer"}),r.a.createElement("div",{className:"intro-content-layer"},r.a.createElement("div",{className:"container intro-quote"},r.a.createElement("p",{className:"intro-message-mobile"},"Welcome to ",r.a.createElement("span",null,"Discite")," ",r.a.createElement("br",null),r.a.createElement("span",null,"Let us help you get started!")),r.a.createElement("p",{className:"intro-message-desktop"},"Every student can learn,",r.a.createElement("br",null)," just not on the same day, ",r.a.createElement("br",null)," or the same way."),y.getCurrentUser()?r.a.createElement(l.b,{to:"userprofile"},r.a.createElement("button",{className:"btn intro-btn"},"My Profile")):r.a.createElement("button",{onClick:function(){return t(!0,"signup")},className:"btn intro-btn"},"Join Us"))),r.a.createElement("div",{className:"intro-min-info"},r.a.createElement("div",{className:"container intro-info-flex"},r.a.createElement("span",{className:"mobile-info-intro-crs"},d," ",r.a.createElement("i",{className:"fas fa-book-open"})," Available Courses"),r.a.createElement("span",{className:"disabled"},"24/7 Customer Support"),r.a.createElement("span",null,o," Teachers From The Entire World"),r.a.createElement("span",null,d," Available Courses"))))}),L=a(83),R=a.n(L),M=(a(169),a(170),a(243)),H=a.n(M),q=(a(357),function(e){var t=e.course;return r.a.createElement("div",{className:"course-card"},r.a.createElement("div",{className:"thumbnail-card"},r.a.createElement("img",{src:t.cover_photo,alt:"coverPhoto"}),r.a.createElement("p",{className:"thumbnail-category"},t.category.toUpperCase())),r.a.createElement("div",{className:"info-card"},r.a.createElement("div",{className:"card-top-info"},r.a.createElement(l.b,{to:"/courses/".concat(t.id)},r.a.createElement("h3",null,t.title.length>18?t.title.slice(0,21)+"...":t.title)),r.a.createElement("p",{className:"info-card-teacher"},"by ",r.a.createElement("span",null,t.teacher)),r.a.createElement("p",null,t.short_desc.length>83?t.short_desc.slice(0,80)+"...":t.short_desc)),r.a.createElement("div",{className:"card-bottom-info"},r.a.createElement(H.a,{numberOfStar:5,numberOfSelectedStar:t.rating,colorFilledStar:"#ee6c4d",colorEmptyStar:"#ccc",starSize:"20px",spaceBetweenStar:"2px",disableOnSelect:!0}),r.a.createElement("p",{className:"info-card-price"},t.price>0?t.price+" EUR":"FREE"))))}),B=(a(358),function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],o=a[1],l=new Date;Object(n.useEffect)((function(){C.get("/courses").then((function(e){return o(e.data)}))}),[]);var i={dots:!0,infinite:!0,speed:1e3,slidesToShow:4,slidesToScroll:2,initialSlide:0,autoplay:!0,arrows:!1,autoplaySpeed:6e3,responsive:[{breakpoint:1102,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:831,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]};return r.a.createElement("div",{className:"courses-display container"},r.a.createElement("h3",null,["January","February","March","April","May","June","July","August","September","October","November","December"][l.getMonth()]," Specials"),r.a.createElement(R.a,i,s.map((function(e,t){return r.a.createElement(q,{course:e,key:t})}))))}),V=(a(359),function(e){return r.a.createElement("div",{className:"about-us"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"about-us-display"},r.a.createElement("img",{src:"https://images.pexels.com/photos/1015568/pexels-photo-1015568.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:""}),r.a.createElement("div",{className:"about-content"},r.a.createElement("p",{className:"snd-title"},"About Our Platform"),r.a.createElement("p",null,"FOR GETTING SUCCESS THERE IS ONLY ONE PRINCIPLE KEEP YOUR FOCUS ON GOAL AND GO FOR IT WITH PASSION."),r.a.createElement("p",null,"Discite, founded in May 2020, is a Montenegrin online learning platform aimed at professional adults and students. As of Jun 2020, the platform has less than 50 million students and 57,000 instructors teaching courses in over 65 languages. There have been less than 295 million course enrollments."),r.a.createElement("a",{className:"btn donate-btn",href:"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=N6LPW2WSEHGF4&source=url",target:"_blank",rel:"noopener noreferrer"},"Donate")))))}),z=(a(360),function(e){var t=e.setSelectedCategory,a=e.setFocusSearch,s=e.setOpenNavbar,o=Object(n.useState)([{id:"1",name:"Development",icon:"code"},{id:"2",name:"Business",icon:"chart-bar"},{id:"3",name:"Photography",icon:"camera-retro"},{id:"4",name:"Design",icon:"pencil-alt"},{id:"5",name:"Marketing",icon:"ad"},{id:"6",name:"Lifestyle",icon:"smile"},{id:"7",name:"Music",icon:"music"},{id:"8",name:"Health",icon:"heart"}]),l=Object(c.a)(o,1)[0].map((function(e){return r.a.createElement("div",{className:"category-card",key:e.id,onClick:Object(d.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.scrollTo(0,0),t(e.name.toLowerCase()),setTimeout((function(){s(!0)}),400),setTimeout((function(){a(!0)}),800);case 4:case"end":return n.stop()}}),n)})))},r.a.createElement("img",{src:"/EducationPlatform"+"/resources/".concat(e.name.toLowerCase(),".png"),alt:"".concat(e.name," category"),className:"category-card-image"}),r.a.createElement("div",{className:"category-card-content"},r.a.createElement("i",{className:"fas fa-".concat(e.icon," silver")}),r.a.createElement("h3",null,e.name.toUpperCase())))}));return r.a.createElement("div",{className:"categories-section"},r.a.createElement("h1",null,"Categories"),l)}),J=a(266),W=(a(361),a(362),a(578)),G=a(576),Y=a(575),K=a(34),X=function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={current:2,testimonials:[],loading:!1,visible:!1,currentUser:y.getCurrentUser(),textArea:"",editTestimonial:!1,showSuccess:!1,showError:!1},e.handleClick=function(t){var a=t.target.classList.value;return a.includes("swiper-button-next")&&4!==a?e.setState({current:e.state.current+1}):a.includes("swiper-button-prev")&&0!==a?e.setState({current:e.state.current-1}):""},e.showModal=function(){e.state.currentUser?e.setState({visible:!0}):e.props.toggleModal(!0,"login")},e.handleOk=function(){e.setState({loading:!0}),!1===e.state.editTestimonial?C.post("/testimonials/",{username:"".concat(e.state.currentUser.username),text:"".concat(e.state.textArea)}).then((function(t){return e.setState({loading:!1,showSuccess:!0})})).catch((function(t){return e.setState({showError:!0,loading:!1})})):C.put("/testimonials/".concat(e.state.currentUser.username),{text:"".concat(e.state.textArea)}).then((function(t){e.setState({loading:!1,showSuccess:!0})})).catch((function(){e.setState({showError:!0,loading:!1})}))},e.handleCancel=function(){e.setState({visible:!1,showSuccess:!1,showError:!1})},e.onTextChange=function(t){e.setState({textArea:t.target.value})},e.handleReturn=function(){e.setState({showSuccess:!1,showError:!1})},e.checkForAnswer=function(){if(!0===e.state.showSuccess)return r.a.createElement(W.a,{status:"success",title:"Successfully updated review!"});if(!0===e.state.showError)return r.a.createElement(W.a,{status:"error",title:"Oops something went wrong. Please try again!"});var t=G.a.TextArea;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Maximum number of characters is: 180"),r.a.createElement(t,{rows:6,value:e.state.textArea,onChange:function(t){return e.onTextChange(t)},maxLength:"180"}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.get("/testimonials/randomfive").then((function(t){return e.setState({testimonials:t.data})})).then((function(){return e.swiper=new J.a(".swiper-container",{slidesPerView:1,centeredSlides:!0,direction:e.getDirection(),initialSlide:2,speed:800,simulateTouch:!1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1},480:{slidesPerView:3},680:{slidesPerView:5}}})})),C.get("/testimonials/").then((function(t){if(null!==e.state.currentUser){var a=t.data.filter((function(t){return t.username===e.state.currentUser.username}));a.length>0&&e.setState({editTestimonial:!0,textArea:"".concat(a[0].text)})}}))}},{key:"getDirection",value:function(){return window.innerWidth<=760?"vertical":"horizontal"}},{key:"renderTestimonials",value:function(){return this.state.testimonials.map((function(e){return r.a.createElement("div",{className:"swiper-slide",key:e.username},r.a.createElement("div",{className:"swiper-inner-circle"},r.a.createElement("img",{src:e.picture?e.picture:"https://www.in-tend.co.uk/images/default.jpg",alt:"User"})))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"testimonial-section"},r.a.createElement("h1",null,"What do people say about us?"),r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{className:"swiper-wrapper"},this.renderTestimonials()),r.a.createElement("div",{className:"swiper-button-next",onClick:function(t){return e.handleClick(t)}}),r.a.createElement("div",{className:"swiper-button-prev",onClick:function(t){return e.handleClick(t)}})),r.a.createElement("div",{className:"testimonial-text-box"},r.a.createElement("h2",null,0!==this.state.testimonials.length?this.state.testimonials[this.state.current].name+" "+this.state.testimonials[this.state.current].surname:""),r.a.createElement("i",{className:"fas fa-quote-left"}),r.a.createElement("i",{className:"fas fa-caret-down"}),r.a.createElement("span",{className:"fadeIn"},0!==this.state.testimonials.length?this.state.testimonials[this.state.current].text:""),r.a.createElement("i",{className:"fas fa-quote-right"}))),r.a.createElement("div",{className:"add-testimonial-section"},r.a.createElement("h1",null,"Want to get featured?"),r.a.createElement("h3",null,"Click below to add your opinion about our website!"),r.a.createElement("button",{onClick:this.showModal},!0===this.state.editTestimonial?"Edit your":"Add a"," review"),r.a.createElement(Y.a,{visible:a,title:"".concat(!0===this.state.editTestimonial?"Edit your":"Add a"," review"),onOk:this.handleOk,onCancel:this.handleCancel,height:"400",centered:!0,footer:this.state.showError||this.state.showSuccess?[r.a.createElement(K.a,{key:"back",onClick:this.handleReturn},"Return")]:[r.a.createElement(K.a,{key:"submit",type:"primary",loading:n,onClick:this.handleOk},"Submit")]},this.checkForAnswer())))}}]),a}(r.a.Component),$=function(e){var t=e.toggleModal,a=e.setSelectedCategory,n=e.setFocusSearch,s=e.setOpenNavbar;return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(_,{toggleModal:t}),r.a.createElement(B,{title:"hello World"}),r.a.createElement(V,null),r.a.createElement(z,{setSelectedCategory:a,setFocusSearch:n,setOpenNavbar:s}),r.a.createElement(X,{toggleModal:t}))},Q=a(571),Z=(a(410),a(579)),ee=a(584),te=a(581),ae=a(193),ne=(a(411),a(124)),re=function(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(0),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)([0,0,0,0,0,0,0]),d=Object(c.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)([0,0,0,0,0,0,0]),E=Object(c.a)(h,2),g=E[0],b=E[1],v=Object(n.useState)({"Verified Users":5,"Unverified Users":1}),y=Object(c.a)(v,2),N=y[0],w=y[1],S={labels:["6 Days Ago","5 Days Ago","4 Days Ago","3 Days Ago","2 Days Ago","Yesterday","Today"],datasets:[{label:"Courses",data:Object(ae.a)(p),backgroundColor:["rgba(41, 50, 65, 0.9)"]}]},k={labels:["6 Days Ago","5 Days Ago","4 Days Ago","3 Days Ago","2 Days Ago","Yesterday","Today"],datasets:[{label:"Users",data:Object(ae.a)(g),backgroundColor:["rgba(238, 108, 77, 0.9)"]}]},O={labels:["Students","Teachers"],datasets:[{label:"Student/Teacher Ratio",data:[a,i],backgroundColor:["rgba(238, 108, 77, 0.9)","rgba(78, 163, 154, 0.9)"]}]},j={labels:["Verified","Unverified"],datasets:[{label:"Verified/Unverified Ratio",data:[N["Verified users"],N["Unverified users"]],backgroundColor:["rgba(78, 163, 154, 0.9)","rgba(41, 50, 65, 0.9)"]}]};return Object(n.useEffect)((function(){C.get("/users/teachers-count").then((function(e){return u(e.data)})),C.get("/users/students-count").then((function(e){return s(e.data)})),C.get("/users/statistics/new-teachers-number").then((function(e){return b(e.data.data)})),C.get("/courses/statistics/new-courses-number").then((function(e){return f(e.data.data)})),C.get("/users/enabled-disabled").then((function(e){return w(e.data)}))}),[]),r.a.createElement("div",{className:"data-charts-main"},r.a.createElement("div",{className:"charts-top"},r.a.createElement(ne.a,{data:k,options:{responsive:!0,title:{display:!0,text:"New Users"},legend:{display:!0,position:"right"},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"charts-top"},r.a.createElement(ne.a,{data:S,options:{responsive:!0,title:{display:!0,text:"New Courses"},legend:{display:!0,position:"right"},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"bottom-charts-group"},r.a.createElement("div",{className:"charts-bottom"},r.a.createElement(ne.b,{data:O,options:{responsive:!0,title:{display:!0,text:"Student Teacher Ratio"},legend:{display:!0,position:"right"},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"charts-bottom"},r.a.createElement(ne.b,{data:j,options:{responsive:!0,title:{display:!0,text:"Verified & Unverified Accounts"},legend:{display:!0,position:"right"},maintainAspectRatio:!1}}))))},se=(a(502),a(577)),oe=a(570),ce=a(572),le=function(e){var t=e.itemData,a=[],n=[{title:"Username",dataIndex:"username",key:"username",sorter:function(e,t){return e.username.toLowerCase()>t.username.toLowerCase()?-1:1}},{title:"First Name",dataIndex:"name",key:"name"},{title:"Last Name",dataIndex:"surname",key:"surname"},{title:"E-mail",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role_id",key:"role_id",defaultSortOrder:"descend",sorter:function(e,t){return e.role_id>t.role_id?-1:1}},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(oe.a,{size:"middle"},r.a.createElement(K.a,{onClick:function(){return e=t.username,void C.delete("/users/".concat(e),{headers:{authorization:y.getAuthHeader()}}).then((function(e){se.a.success("User Deleted!")})).catch((function(e){se.a.error("Failed To Delete User")}));var e}},"Delete User"))}}];return t&&(a=t.map((function(e){return e.key=e.username,e}))),r.a.createElement("div",null,r.a.createElement(K.a,{type:"primary",danger:!0,className:"prune-delete",onClick:function(){C.delete("/users/prune",{headers:{authorization:y.getAuthHeader()}}).then((function(e){se.a.success("Unverified Users Deleted!")})).catch((function(e){se.a.error("Failed To Delete Users")}))}},"Remove Unverified Accounts"),r.a.createElement(ce.a,{dataSource:a,columns:n}))},ie=(a(517),function(e){var t=e.itemData,a=[{title:"Title",dataIndex:"title",key:"title",sorter:function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?-1:1}},{title:"Category",dataIndex:"category",key:"category",sorter:function(e,t){return e.category.toLowerCase()>t.category.toLowerCase()?-1:1}},{title:"Date Created",dataIndex:"created",key:"created",sorter:function(e,t){return e.created.toLowerCase()>t.created.toLowerCase()?-1:1}},{title:"Price",dataIndex:"price",key:"price",sorter:function(e,t){return e.price>t.price?-1:1}},{title:"Course Author",dataIndex:"teacher",key:"teacher",sorter:function(e,t){return e.teacher>t.teacher?-1:1}},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(oe.a,{size:"middle"},r.a.createElement(K.a,{onClick:function(){return n(t.id)}},"Delete Course"))}}],n=function(e){C.delete("/courses/".concat(e),{headers:{authorization:y.getAuthHeader()}}).then((function(e){se.a.success("Course Deleted!")})).catch((function(e){se.a.error("Failed To Delete Course")}))},s=[];return t&&(s=t.map((function(e){return e.key=e.id,e}))),r.a.createElement("div",null,r.a.createElement(ce.a,{dataSource:s,columns:a}))}),ue=Q.a.Content,me=Q.a.Footer,de=Q.a.Sider,pe=function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!1,currentNavItem:"1",itemData:null},e.handleNavChange=function(t){e.setState({currentNavItem:t.key})},e.onCollapse=function(t){e.setState({collapsed:t})},e.renderDashPanel=function(){return"1"===e.state.currentNavItem?r.a.createElement(re,null):"2"===e.state.currentNavItem?r.a.createElement(le,{itemData:e.state.itemData}):"3"===e.state.currentNavItem?r.a.createElement(ie,{itemData:e.state.itemData}):void 0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.setDashboard(!0)}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.currentNavItem!==this.state.currentNavItem&&("1"===this.state.currentNavItem||("2"===this.state.currentNavItem?C.get("/users",{headers:{authorization:y.getAuthHeader()}}).then((function(e){a.setState({itemData:e.data})})):"3"===this.state.currentNavItem&&C.get("/courses").then((function(e){a.setState({itemData:e.data})}))))}},{key:"componentWillUnmount",value:function(){this.props.setDashboard(!1)}},{key:"render",value:function(){return r.a.createElement(Q.a,{style:{minHeight:"100vh"}},r.a.createElement(de,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"dark-blue"},r.a.createElement(O.a,{theme:"dark",defaultSelectedKeys:[this.state.currentNavItem],mode:"inline"},r.a.createElement(O.a.Item,{key:"1",onClick:this.handleNavChange},r.a.createElement(Z.a,null),r.a.createElement("span",null,"Home")),r.a.createElement(O.a.Item,{key:"2",onClick:this.handleNavChange},r.a.createElement(ee.a,null),r.a.createElement("span",null,"Users")),r.a.createElement(O.a.Item,{key:"3",onClick:this.handleNavChange},r.a.createElement(te.a,null),r.a.createElement("span",null,"Courses")))),r.a.createElement(Q.a,null,r.a.createElement(ue,{style:{margin:"16px 16px"}},this.renderDashPanel()),r.a.createElement(me,{style:{textAlign:"center"}},"Discite \xa92020")))}}]),a}(n.Component),fe=a(258),he=(a(518),function(e){var t=Object(n.useState)(e.course),a=Object(c.a)(t,2),s=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.course)}),[e.course]),r.a.createElement("div",{className:"heading-wrapper"},r.a.createElement("div",{className:"heading-section"},r.a.createElement("img",{src:s.cover_photo,alt:"nesto"}),r.a.createElement("div",{className:"course-description"},r.a.createElement("h1",null,s.title),r.a.createElement("p",null,s.short_desc),r.a.createElement("span",null,"Date created: ",function(e){var t=new Date(e);return"".concat(t.getDay(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())}(s.created)),r.a.createElement("span",null,"by ",s.teacher))))}),Ee=(a(519),function(e){var t=Object(n.useState)(e.course),a=Object(c.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(e.lessons),u=Object(c.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){o(e.course)}),[e.course]),Object(n.useEffect)((function(){d(e.lessons)}),[e.lessons]),r.a.createElement("div",{className:"content-section"},r.a.createElement("h2",null,"COURSE INFORMATION"),r.a.createElement("div",{className:"left-content"},r.a.createElement("div",{className:"left-field"},r.a.createElement("span",null,"Duration"),r.a.createElement("i",{className:"fas fa-clock"}),function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t<10?"0"+t:t,":").concat(a<10?"0"+a:a,":00")}(s.duration)),r.a.createElement("div",{className:"left-field"},r.a.createElement("span",null,"Category"),r.a.createElement("i",{className:"fas fa-book"}),s.category?s.category.charAt(0).toUpperCase()+s.category.slice(1):""),r.a.createElement("div",{className:"left-field"},r.a.createElement("span",null,"Review"),r.a.createElement("i",{className:"fas fa-star"}),s.rating?s.rating:"Coming soon!")),r.a.createElement("div",{className:"right-content"},r.a.createElement("div",{className:"right-heading"},r.a.createElement("span",null,"Lessons "),r.a.createElement("i",{className:"fas fa-book-open"})),r.a.createElement("div",{className:"lessons-list"},r.a.createElement("ol",null,m.length>0?m.map((function(e){return r.a.createElement("li",{key:e.id},e.title)})):r.a.createElement("span",null,"No lessons to show")))),r.a.createElement("h2",null,"DESCRIPTION"),r.a.createElement("div",{className:"bottom-content"},r.a.createElement("p",null,s.long_desc),!0===e.isEnrolled&&m.length>0?r.a.createElement("button",{className:"bottom-button go-to"},r.a.createElement(l.b,{to:"/courses/".concat(s.id,"/lessons")},e.isTeacher?"View my course":"Go to Lessons")):!1===e.isEnrolled?r.a.createElement("button",{className:"bottom-button buy",onClick:function(){return e.handleBuy()}},"Buy for ",s.price,"$"):r.a.createElement("h3",null,"No lessons to show.")))}),ge=(a(520),a(521),function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={course:{},lessons:[],courseUsers:[],currentUser:y.getCurrentUser(),isLoading:!0,isEnrolled:!1,isTeacher:!1},e.handleBuy=function(){e.state.currentUser?C.post("/courses/".concat(e.props.match.params.id),{username:"".concat(e.state.currentUser.username)},{headers:{authorization:y.getAuthHeader()}}).then((function(e){return alert(e.data.success)})).then((function(){return e.setState({isEnrolled:!0})})).catch((function(e){return console.log(e)})):e.props.toggleModal(!0,"login")},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.get("/courses/".concat(this.props.match.params.id)).then((function(t){return e.setState({course:t.data[0]})})),C.get("/lessons/course/".concat(this.props.match.params.id)).then((function(t){return e.setState({lessons:t.data,isLoading:!1})})),C.get("/courses/".concat(this.props.match.params.id,"/users")).then((function(t){return e.setState({courseUsers:t.data})})),this.checkifEnrolled()}},{key:"componentDidUpdate",value:function(){var e=this;parseInt(this.props.match.params.id)!==this.state.course.id&&(C.get("/courses/".concat(this.props.match.params.id)).then((function(t){return e.setState({course:t.data[0],isLoading:!1})})),C.get("/lessons/course/".concat(this.props.match.params.id)).then((function(t){return e.setState({lessons:t.data})})),C.get("/courses/".concat(this.props.match.params.id,"/users")).then((function(t){return e.setState({courseUsers:t.data,isEnrolled:!1})}))),this.checkifEnrolled()}},{key:"componentWillUnmount",value:function(){this.setState({course:{},lessons:[],courseUsers:[]})}},{key:"checkIfLoading",value:function(){return this.state.isLoading?r.a.createElement("div",{className:"course-spinner"},r.a.createElement(fe.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{course:this.state.course}),r.a.createElement(Ee,{course:this.state.course,lessons:this.state.lessons,handleBuy:this.handleBuy,isEnrolled:this.state.isEnrolled,isTeacher:this.state.isTeacher}))}},{key:"checkifEnrolled",value:function(){var e=this;if(!1===this.state.isEnrolled&&null!==this.state.currentUser)if("administrator"===this.state.currentUser.role_id)this.setState({isEnrolled:!0});else if(this.state.currentUser.username===this.state.course.teacher)this.setState({isEnrolled:!0,isTeacher:!0});else if("student"===this.state.currentUser.role_id||"teacher"===this.state.currentUser.role_id){1===this.state.courseUsers.filter((function(t){return t.username===e.state.currentUser.username})).length&&this.setState({isEnrolled:!0})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"course-wrapper"},this.checkIfLoading())}}]),a}(r.a.Component)),be=a(192),ve=a.n(be),ye=a(574),Ne=(a(531),function(e){var t=e.setModalWin,a=r.a.createRef(),s=r.a.createRef(),o=Object(n.useState)("student"),l=Object(c.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(0),d=Object(c.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)({}),E=Object(c.a)(h,2),g=E[0],b=E[1],v=function(e){u(e.target.id)};return r.a.createElement("div",{className:0===p?"signup-form-main-outer":"signup-form-main-outer-second"},0===p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Create ",r.a.createElement("span",null,"Account")),r.a.createElement(ye.a,{layout:"vertical",ref:a,name:"control-ref",onFinish:function(e){var t={username:e.username,password:e.password,email:e.email,role_id:i,name:e.name,surname:e.surname};y.register(t).then((function(e){200===e.status&&(b(t),f(1))})).catch((function(e){return se.a.error(e.response.data.error)}))},className:"signup-form-main"},r.a.createElement(ye.a.Item,{name:"name",rules:[{required:!0,message:"Please enter your name!"}]},r.a.createElement(G.a,{placeholder:"First Name"})),r.a.createElement(ye.a.Item,{name:"surname",rules:[{required:!0,message:"Please enter your last name!"}]},r.a.createElement(G.a,{placeholder:"Last Name"})),r.a.createElement(ye.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your email address!"}]},r.a.createElement(G.a,{placeholder:"Email address"})),r.a.createElement(ye.a.Item,{name:"username",rules:[{required:!0,message:"Please enter your username!"}]},r.a.createElement(G.a,{placeholder:"Username"})),r.a.createElement(ye.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}]},r.a.createElement(G.a.Password,{placeholder:"Password"})),r.a.createElement(ye.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(G.a.Password,{placeholder:"Confirm Password"})),r.a.createElement(ye.a.Item,null,r.a.createElement("div",{className:"signup-field radio"},r.a.createElement("input",{type:"radio",name:"role",value:"student",onChange:v,id:"student"}),r.a.createElement("label",{htmlFor:"student",className:"student"===i?"active-orange":""},"Student"),r.a.createElement("input",{type:"radio",name:"role",value:"teacher",onChange:v,id:"teacher"}),r.a.createElement("label",{htmlFor:"teacher",className:"teacher"===i?"active-orange":""},"Teacher"))),r.a.createElement(ye.a.Item,null,r.a.createElement("button",{className:"btn create-c-btn",htmltype:"submit"},"Create Account")))):1===p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Hi, ",r.a.createElement("span",null,g.username),"!"),r.a.createElement("p",null,"We're excited to have you get started. First, you need to confirm your account. Just type the code we have sent you on"," ",r.a.createElement("span",null,g.email)),r.a.createElement(ye.a,{layout:"vertical",ref:s,onFinish:function(e){var t={register_token:e.confirmationCode};C.post("/verify",t).then((function(e){return f(2)})),console.log(t)},className:"signup-form-main"},r.a.createElement(ye.a.Item,{name:"confirmationCode",rules:[{required:!0,message:"Please enter your confirmation code!"}]},r.a.createElement(G.a,{className:"confirm-token-signup",placeholder:"Enter here your confirmation code"})),r.a.createElement(ye.a.Item,null,r.a.createElement("button",{className:"btn create-c-btn",htmltype:"submit"},"Confirm")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png",alt:"tick",className:"image-signup-tick"}),r.a.createElement("p",{className:"success-p-mess"},"Your Profile has been Successfully Created!"),r.a.createElement("button",{className:"btn proceed-login",onClick:function(){return t([!0,"login"])}},"Proceed to Login")))}),we=(a(532),a(533),function(e){var t=e.setCurrentUser,a=e.setModalWin,s=Object(n.useState)(""),o=Object(c.a)(s,2),l=o[0],u=o[1],m=Object(n.useState)(""),d=Object(c.a)(m,2),p=d[0],f=d[1],h=Object(i.g)(),E=function(e){"username"===e.target.id?u(e.target.value):"password"===e.target.id&&f(e.target.value)};return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"login-top-regular"},r.a.createElement("h3",null,"Welcome ",r.a.createElement("span",null,"Back")),r.a.createElement("p",null,"Log in to continue"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y.login(l,p).then((function(e){C.get("/users/".concat(e)).then((function(e){localStorage.setItem("user-info",JSON.stringify(e.data[0])),t(y.getCurrentUser()),a([!1,"login"]),h.push("/userprofile")}))})).catch((function(e){console.log(e.response.data),se.a.error(e.response.data.error)}))}},r.a.createElement("input",{className:"login-username",type:"text",required:!0,placeholder:"Username",id:"username",value:l,onChange:E}),r.a.createElement("input",{className:"login-password",type:"password",required:!0,placeholder:"Password",id:"password",value:p,onChange:E}),r.a.createElement("button",{className:"login-submit btn",type:"submit"},"Log In"))),r.a.createElement("div",{className:"login-bottom-external"},r.a.createElement("button",{className:"disabled"},r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement("button",{className:"disabled"},r.a.createElement("i",{className:"fab fa-facebook-f"}))),r.a.createElement("p",{className:"bottom-down-login"},"Not a member?"," ",r.a.createElement("span",{onClick:function(){return a([!0,"signup"])}},"Sign up now!")))});ve.a.setAppElement("#root");var Se=function(e){var t=e.modalOpen,a=e.type,n=e.setModalWin,s=e.setCurrentUser,o="login"===a?r.a.createElement(we,{setCurrentUser:s,setModalWin:n}):r.a.createElement(Ne,{setModalWin:n});return r.a.createElement(ve.a,{isOpen:t,ariaHideApp:!1,onRequestClose:function(){return n([!1,a])},closeTimeoutMS:400,style:{overlay:{backgroundColor:"#293241cc"},content:{padding:0,border:"none",overflow:"hidden",borderRadius:"1rem",backgroundColor:"transparent"}},className:"modal-main"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-left"},r.a.createElement("div",{className:"modal-left-pic"}),r.a.createElement("div",{className:"modal-left-title"},r.a.createElement("img",{src:"/EducationPlatform/resources/logo.png",alt:""}),r.a.createElement("h3",null,"Discite"))),r.a.createElement("div",{className:"modal-right-content"},r.a.createElement("p",{className:"modal-close-btn",onClick:function(){return n([!1,a])}},r.a.createElement("i",{className:"fas fa-times"})),o)))},Ce=(a(534),a(535),a(536),function(e){var t=e.course;return r.a.createElement("div",null,r.a.createElement("div",{className:"profile-course-card"},r.a.createElement("div",{className:"profile-thumbnail-card"},r.a.createElement("img",{src:t.cover_photo,alt:"Thumbnail"}),r.a.createElement("p",{className:"profile-thumbnail-category"},t.category.toUpperCase())),r.a.createElement("div",{className:"profile-info-card"},r.a.createElement("div",{className:"profile-card-top-info"},r.a.createElement(l.b,{to:"/courses/".concat(t.id)},r.a.createElement("h3",null,t.title)),r.a.createElement("p",null,t.short_desc.length>60?t.short_desc.slice(0,57)+"...":t.short_desc)))))}),ke=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)("allcourses"),l=Object(c.a)(o,2),i=l[0],u=l[1];Object(n.useEffect)((function(){C.get("/users/".concat(y.getCurrentUser().username,"/courses"),{headers:{authorization:y.getAuthHeader()}}).then((function(e){s(e.data)}))}),[i]);var m=function(e){u(e.target.id)},d={dots:!0,speed:1e3,slidesToShow:4,slidesToScroll:4,initialSlide:0,arrows:!1,infinite:a.length>3,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return r.a.createElement("div",{className:" container profile-courses"},r.a.createElement("div",{className:"profile-courses-nav"},r.a.createElement("ul",null,r.a.createElement("li",{style:"allcourses"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},onClick:m,className:"profile-nav-item",id:"allcourses"},"All Courses"),r.a.createElement("li",{style:"wishlist"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},className:"profile-nav-item disabled",id:"wishlist",onClick:m},"WishList"),r.a.createElement("li",{style:"archived"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},className:"profile-nav-item disabled",id:"archived",onClick:m},"Archived"))),r.a.createElement("div",{className:"profile-courses-display"},r.a.createElement(R.a,d,a.map((function(e){return r.a.createElement(Ce,{course:e,key:e.id})})))))},Oe=(a(537),a(538),function(e){var t=e.course;return r.a.createElement("div",null,r.a.createElement("div",{className:"teacher-course-card"},r.a.createElement("div",{className:"teacher-thumbnail-card"},r.a.createElement(l.b,{to:"/courses/".concat(t.id)},r.a.createElement("img",{src:t.cover_photo,alt:"Thumbnail"}),r.a.createElement("p",{className:"teacher-thumbnail-category"},t.category.toUpperCase()),r.a.createElement("h3",null,t.title.length>28?t.title.slice(0,25)+"...":t.title))),r.a.createElement("div",{className:"teacher-info-card"},r.a.createElement("div",{className:"teacher-card-top-info"},r.a.createElement("p",null,t.short_desc.length>83?t.short_desc.slice(0,80)+"...":t.short_desc),r.a.createElement("div",{className:"btn-group-teacher"},r.a.createElement("button",{className:"btn teacher-card-btn-edit disabled"},"Edit Course"),r.a.createElement(l.b,{to:{pathname:"/createcourse",aboutProps:{section:2,lesson:0,course:t}}},r.a.createElement("button",{className:"btn teacher-card-btn-add"},"Add Lessons")))))))}),je=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)("mycourses"),l=Object(c.a)(o,2),i=l[0],u=l[1];Object(n.useEffect)((function(){"my_subscriptions"===i?C.get("/users/".concat(y.getCurrentUser().username,"/courses"),{headers:{authorization:y.getAuthHeader()}}).then((function(e){console.log("subscribed courses please"),console.log(e.data),s(e.data)})):C.get("/users/".concat(y.getCurrentUser().username,"/my-courses"),{headers:{authorization:y.getAuthHeader()}}).then((function(e){s(e.data)}))}),[i]);var m=function(e){u(e.target.id)},d={dots:!0,speed:1e3,slidesToShow:4,slidesToScroll:4,initialSlide:0,arrows:!1,infinite:a.length>3,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return r.a.createElement("div",{className:" container profile-courses"},r.a.createElement("div",{className:"profile-courses-nav"},r.a.createElement("ul",null,r.a.createElement("li",{style:"mycourses"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},onClick:m,className:"profile-nav-item",id:"mycourses"},"My Courses"),r.a.createElement("li",{style:"public"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},className:"profile-nav-item disabled",id:"public",onClick:m},"Public"),r.a.createElement("li",{style:"hidden"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},className:"profile-nav-item disabled",id:"hidden",onClick:m},"Hidden"),r.a.createElement("li",{style:"my_subscriptions"===i?{color:"#ee6c4d",borderBottom:"#ee6c4d 1px solid"}:{},className:"profile-nav-item",id:"my_subscriptions",onClick:m},"My Subscriptions"))),r.a.createElement("div",{className:"profile-courses-display"},"my_subscriptions"===i?r.a.createElement(R.a,d,a.map((function(e,t){return r.a.createElement(Ce,{course:e,key:t})}))):r.a.createElement(R.a,d,a.map((function(e,t){return r.a.createElement(Oe,{course:e,key:t})})))))},Ue=a(573),Ie=(a(539),a(54)),Te=a.n(Ie),Pe=function(e){var t=e.editProfileModal,a=e.setEditProfileModal,n=e.onCreate,s=e.formRef,o=y.getCurrentUser();return r.a.createElement(Y.a,{title:"Edit Profile",visible:t,onOk:n,onCancel:function(){return a(!1)},className:"edit-img-modal",okText:"Save Changes"},r.a.createElement(ye.a,{layout:"vertical",ref:s,initialValues:{name:o.name,surname:o.surname,location:o.location,phone:o.phone,dateOfBirth:o.date_of_birth?Te()(o.date_of_birth):Te()(Date.now())}},r.a.createElement(ye.a.Item,{name:"name",label:"First Name",rules:[{required:!0}]},r.a.createElement(G.a,null)),r.a.createElement(ye.a.Item,{label:"Last Name",name:"surname",rules:[{required:!0,message:"Please input your Last Name!"}]},r.a.createElement(G.a,null)),r.a.createElement(ye.a.Item,{label:"Phone number",name:"phone"},r.a.createElement(G.a,{placeholder:"Phone Number"})),r.a.createElement(ye.a.Item,{label:"Location",name:"location"},r.a.createElement(G.a,{placeholder:"Country/City"})),r.a.createElement(ye.a.Item,{label:"Date of Birth",name:"dateOfBirth"},r.a.createElement(Ue.a,null)),r.a.createElement("p",{className:"edit-profile-change-pass"},"Change Password"),r.a.createElement(ye.a.Item,{name:"oldPassword"},r.a.createElement(G.a.Password,{placeholder:"Current Password"})),r.a.createElement(ye.a.Item,{name:"password",label:"New Password"},r.a.createElement(G.a.Password,{placeholder:"Password"})),r.a.createElement(ye.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(G.a.Password,{placeholder:"Confirm Password"}))))},Ae=a(582),De=function(){var e=y.getCurrentUser(),t=r.a.createRef(),a=Object(n.useState)(!1),s=Object(c.a)(a,2),o=s[0],i=s[1],u=Object(n.useState)(!1),m=Object(c.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(null),h=Object(c.a)(f,2),E=h[0],b=h[1];return r.a.createElement("div",{className:"user-page"},r.a.createElement("div",{className:"profile-user-back"},r.a.createElement("div",{className:"container profile-user-info"},r.a.createElement("div",{className:"profile-user-image-section"},r.a.createElement("img",{src:e.picture?e.picture:"https://www.in-tend.co.uk/images/default.jpg",alt:"avatar"}),r.a.createElement("div",{className:"edit-image-btn",onClick:function(){i(!0)}},r.a.createElement(Ae.a,null))),r.a.createElement(Y.a,{title:"Update Profile Image",visible:o,onOk:function(t){i(!1),se.a.loading({content:"Uploading Profile Picture...",key:"uploading-image"});var a=new FormData;a.append("picture",E),C.put("/users/".concat(e.username,"/pictureupload"),a,{headers:{authorization:y.getAuthHeader(),"Content-Type":"multipart/form-data"}}).then((function(e){C.get("/users/".concat(y.getCurrentUser().username)).then((function(e){localStorage.setItem("user-info",JSON.stringify(e.data[0])),se.a.success({content:"Profile Picture Changed!",key:"uploading-image",duration:2}),window.location.reload()}))})).catch((function(e){se.a.error({content:e.response.data.error,key:"uploading-image",duration:2})}))},onCancel:function(e){i(!1),p(!1)},className:"edit-img-modal"},r.a.createElement("input",{type:"file",name:"file",onChange:function(e){b(e.target.files[0])}})),r.a.createElement(Pe,{formRef:t,editProfileModal:d,setEditProfileModal:p,onCreate:function(a){var n=t.current.getFieldsValue(),r=n.dateOfBirth?n.dateOfBirth._d.toString().slice(4,15):e.date_of_birth,s={name:n.name,surname:n.surname,location:n.location,dateOfBirth:r,phone:n.phone};if(n.password===n.confirm)if(n.oldPassword&&n.password){var o={oldPassword:n.oldPassword,newPassword:n.password},c=C.put("/users/".concat(e.username,"/password"),o,{headers:{authorization:y.getAuthHeader()}}).then((function(e){return se.a.success("Password Successfully changed!")})).catch((function(e){se.a.error(e.response.data.error)})),l=C.put("/users/".concat(e.username),s,{headers:{authorization:y.getAuthHeader()}}).then((function(e){C.get("/users/".concat(y.getCurrentUser().username)).then((function(e){localStorage.setItem("user-info",JSON.stringify(e.data[0])),se.a.success("User Profile Updated!")}))})).catch((function(e){return se.a.error(e.response.data.error)}));g.a.all([l,c]).finally((function(e){p(!1)}))}else C.put("/users/".concat(e.username),s,{headers:{authorization:y.getAuthHeader()}}).then((function(e){C.get("/users/".concat(y.getCurrentUser().username)).then((function(e){localStorage.setItem("user-info",JSON.stringify(e.data[0])),se.a.success("User Profile Updated!"),p(!1)}))})).catch((function(e){return se.a.error(e.response.data.error)}))}}),r.a.createElement("div",{className:"profile-about-user"},r.a.createElement("h3",null,e.name+" "+e.surname,"  ",r.a.createElement("span",null,"aka ",e.username)),r.a.createElement("p",{className:"profile-about-occupation"},"administrator"===e.role_id?r.a.createElement("i",{className:"fas fa-user-cog",style:{color:"#ee6c4d"}}):"teacher"===e.role_id?r.a.createElement("i",{className:"fas fa-chalkboard-teacher",style:{color:"#ee6c4d"}}):r.a.createElement("i",{className:"fas fa-user-graduate",style:{color:"#ee6c4d"}}),"   "+e.role_id),r.a.createElement("p",{className:"profile-dob"},r.a.createElement("i",{className:"fas fa-birthday-cake"})," ",e.date_of_birth),r.a.createElement("p",{className:"profile-location"},r.a.createElement("i",{className:"fas fa-map-marker"})," ",e.location),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-phone"})," ",e.phone),r.a.createElement("div",{className:"profile-btn-section"},r.a.createElement("button",{className:"btn edit-profile-btn",onClick:function(){return p(!0)}},"Edit Profile"),"administrator"===e.role_id?r.a.createElement(l.b,{to:"/dashboard"},r.a.createElement("button",{className:"dashboard-profile-btn"},"Dashboard")):"teacher"===e.role_id?r.a.createElement(l.b,{to:"/createcourse"},r.a.createElement("button",{className:"dashboard-profile-btn"},"Create Course")):"")))),"student"===e.role_id?r.a.createElement(ke,null):"teacher"===e.role_id?r.a.createElement(je,null):"administrator"===e.role_id?r.a.createElement("div",null):void 0)},xe=a(583),Fe=(a(546),p.a.Option),_e=function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={section:e.props.location.aboutProps?e.props.location.aboutProps.section:1,lessonCreated:e.props.location.aboutProps?e.props.location.aboutProps.lesson:0,requestSwitch:0,currentCourse:e.props.location.aboutProps?e.props.location.aboutProps.course:null,coverPhoto:null,lessonVideo:null,documentArrayUpload:[]},e.formRef=r.a.createRef(),e.formRefSecond=r.a.createRef(),e.onFinish=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FormData).append("coverPhoto",e.state.coverPhoto),n.append("title",a.title),n.append("shortDesc",a.shortdescription),n.append("longDesc",a.description),n.append("price",0),n.append("duration",1),n.append("category",a.category),n.append("teacher",y.getCurrentUser().username),console.log(n),se.a.loading({content:"Uploading Course...",key:"updatable"}),C.post("/courses",n,{headers:{authorization:y.getAuthHeader(),"Content-Type":"multipart/form-data"}}).then((function(t){e.setState({currentCourse:t.data.courseContent}),se.a.success({content:"Course Uploaded",key:"updatable",duration:2}),e.setState({requestSwitch:1}),setTimeout((function(){e.setState({section:2}),e.setState({requestSwitch:0})}),500)})).catch((function(e){se.a.error({content:"Unable to upload Course",key:"updatable",duration:2})}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFinishSecond=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FormData).append("course_id",e.state.currentCourse.id),n.append("title",a.lessonTitle),n.append("description",a.lesson_description),n.append("video",e.state.lessonVideo),se.a.loading({content:"Uploading Lesson...",key:"updatable"}),C.post("/lessons",n,{headers:{authorization:y.getAuthHeader(),"Content-Type":"multipart/form-data"}}).then((function(t){var a=new FormData;a.append("lessonId",t.data.lessonId),a.append("courseId",e.state.currentCourse.id);for(var n=0;n<e.state.documentArrayUpload.length;n++)a.append("document",e.state.documentArrayUpload[n]);C.post("/documents",a,{headers:{authorization:y.getAuthHeader(),"Content-Type":"multipart/form-data"}}).then((function(e){console.log("success ",e.data)})).catch((function(e){console.log(e)})),console.log(t.data),se.a.success({content:"Lesson Uploaded",key:"updatable",duration:2}),e.setState({lessonCreated:1}),e.onResetSecond()})).catch((function(e){se.a.error("Unable to upload Lesson")}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onReset=function(){e.formRef.current.resetFields()},e.onResetSecond=function(){e.formRefSecond.current.resetFields()},e.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},e.onFileChangeHandler=function(t){e.setState({coverPhoto:t.target.files[0]})},e.onVideoLessonChangeHandler=function(t){e.setState({lessonVideo:t.target.files[0]})},e.onDocumentFileChange=function(t){e.setState({documentArrayUpload:t.target.files})},e.currentSection=function(){return 1===e.state.section?r.a.createElement("div",{className:e.state.requestSwitch?"close-bitch":""},r.a.createElement("h3",{className:"courses-title"},"Create a New Course ",r.a.createElement("i",{className:"fas fa-book-open"}," "),r.a.createElement(l.b,{to:"/userprofile"},r.a.createElement("i",{className:"fas fa-arrow-left",style:{float:"right",color:"#293241"}}))),r.a.createElement(ye.a,{layout:"vertical",ref:e.formRef,name:"control-ref",onFinish:e.onFinish},r.a.createElement(ye.a.Item,{name:"title",label:"Title",rules:[{required:!0}]},r.a.createElement(G.a,null)),r.a.createElement(ye.a.Item,{name:"category",label:"Category",rules:[{required:!0}]},r.a.createElement(p.a,{placeholder:"Select Course Category",allowClear:!0},r.a.createElement(Fe,{value:"development"},"Development"),r.a.createElement(Fe,{value:"business"},"Business"),r.a.createElement(Fe,{value:"photography"},"Photography"),r.a.createElement(Fe,{value:"design"},"Design"),r.a.createElement(Fe,{value:"marketing"},"Marketing"),r.a.createElement(Fe,{value:"lifestyle"},"Lifestyle"),r.a.createElement(Fe,{value:"music"},"Music"),r.a.createElement(Fe,{value:"health"},"Health"))),r.a.createElement(ye.a.Item,{name:"shortdescription",label:"Short Description",rules:[{required:!0}]},r.a.createElement(G.a.TextArea,null)),r.a.createElement(ye.a.Item,{name:"description",label:"Description",rules:[{required:!1}]},r.a.createElement(G.a.TextArea,null)),r.a.createElement(ye.a.Item,{label:"Cover Image"},r.a.createElement("input",{type:"file",name:"file",onChange:e.onFileChangeHandler})),r.a.createElement(ye.a.Item,{name:"price",label:"Price (Coming Soon...)",rules:[{type:"number",min:0,max:0,required:!1}]},r.a.createElement(xe.a,null)),r.a.createElement(ye.a.Item,null,r.a.createElement("button",{className:"btn create-c-btn",htmltype:"submit"},"Create"),r.a.createElement("button",{className:"btn reset-c-btn",htmltype:"button",onClick:e.onReset},"Reset")))):2===e.state.section?r.a.createElement("div",{className:e.state.requestSwitch?"closing-down":""},0===e.state.lessonCreated?r.a.createElement("div",{className:"lessons-title"},"Create New Lesson"," ",e.state.currentCourse?r.a.createElement("p",null,"for ",r.a.createElement("span",null,e.state.currentCourse.title)):""," ",r.a.createElement("i",{className:"fas fa-graduation-cap"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"lessons-title"},"Lesson Created! ",r.a.createElement("i",{className:"fas fa-graduation-cap"})),r.a.createElement("p",null,"Create another one or go to your"," ",r.a.createElement(l.b,{to:"/userprofile"},"profile page"))),r.a.createElement(ye.a,{layout:"vertical",ref:e.formRefSecond,name:"control-ref",onFinish:e.onFinishSecond},r.a.createElement(ye.a.Item,{name:"lessonTitle",label:"Lesson Title",rules:[{required:!0}]},r.a.createElement(G.a,null)),r.a.createElement(ye.a.Item,{label:"Video Upload"},r.a.createElement("input",{type:"file",name:"file",onChange:e.onVideoLessonChangeHandler,required:!0})),r.a.createElement(ye.a.Item,{name:"lesson_description",label:"Lesson Description",rules:[{required:!0}]},r.a.createElement(G.a,null)),r.a.createElement(ye.a.Item,{label:"Document Upload"},r.a.createElement("input",{type:"file",name:"file",multiple:!0,onChange:e.onDocumentFileChange})),r.a.createElement(ye.a.Item,null,r.a.createElement("button",{className:"btn create-c-btn",htmltype:"submit"},"Finish"),r.a.createElement("button",{className:"btn reset-c-btn",htmltype:"button",onClick:e.onReset},"Reset")))):void 0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){}},{key:"dummyRequest",value:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-course-form"},r.a.createElement("div",{className:"create-course-card"},this.currentSection()))}}]),a}(r.a.Component),Le=a(263),Re=a.n(Le),Me=(a(566),function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(c.a)(p,2),h=f[0],E=f[1],g=O.a.SubMenu;return Object(n.useEffect)((function(){C.get("/lessons/course/".concat(e.match.params.id)).then((function(e){return o(e.data)})),C.get("/courses/".concat(e.match.params.id)).then((function(e){return E(e.data[0])}))}),[e.match.params.id]),Object(n.useEffect)((function(){d(s[0])}),[s]),r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:"view-course-section"},r.a.createElement("div",{className:"mini-course-heading"},r.a.createElement("div",{className:"course-left"},r.a.createElement("img",{src:h.cover_photo,alt:"Lesson heading img"}),r.a.createElement("h1",null,h.title)),r.a.createElement("div",{className:"course-right"},r.a.createElement(l.b,{to:"/courses/".concat(e.match.params.id)},r.a.createElement("i",{className:"fas fa-arrow-circle-right"})))),r.a.createElement("div",{className:"video-box"},r.a.createElement("div",{className:"video-heading"},r.a.createElement(Re.a,{url:"https://www.youtube.com/embed/".concat(m.video),controls:!0,width:"100%"}),r.a.createElement("h1",null,m.title)),r.a.createElement("p",null,m.description)),r.a.createElement("div",{className:"side-menu"},r.a.createElement(O.a,{onClick:function(e){return function(e){if(-1===e.key.indexOf("doc")){var t=s.filter((function(t){return t.id===parseInt(e.key)}));d(t[0])}}(e)},defaultSelectedKeys:["".concat(m.id)],defaultOpenKeys:["sub1"],mode:"inline"},function(e){var t=1;return e.map((function(e,a){return r.a.createElement(g,{key:"sub".concat(a+1),title:r.a.createElement("span",null,r.a.createElement("div",{className:"menu-numbering"},a+1,"."),r.a.createElement("span",null,e.title)),style:{fontSize:16}},r.a.createElement(O.a.Item,{key:e.id},r.a.createElement("i",{className:"fas fa-video "}),"Lesson Video"),e.documents.map((function(e){return r.a.createElement(O.a.Item,{key:"doc".concat(t)},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-file-alt"})," Document"," ","".concat(t++," ").concat(null!==e.name?"(".concat(e.name,")"):"")))})))}))}(s)))):r.a.createElement("div",{className:"course-spinner"},r.a.createElement(fe.a,null)))}),He=(a(567),function(){return r.a.createElement("div",{className:"not_found_page"},r.a.createElement("img",{src:"".concat("/EducationPlatform","/resources/not_found.png"),alt:"404"}),r.a.createElement("p",null,"SORRY, PAGE NOT FOUND"),r.a.createElement("button",{className:"btn btn-not-found"},r.a.createElement(l.b,{to:"/",style:{color:"#fff"}},"Go Home")))});var qe=function(){var e=Object(n.useState)([!1,null]),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(y.getCurrentUser()),u=Object(c.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(!1),f=Object(c.a)(p,2),h=f[0],E=f[1],g=Object(n.useState)("all"),b=Object(c.a)(g,2),v=b[0],N=b[1],w=Object(n.useState)(!1),S=Object(c.a)(w,2),C=S[0],k=S[1],O=Object(n.useState)(window.innerWidth>990),j=Object(c.a)(O,2),U=j[0],T=j[1],P=function(e,t){s([e,t])};return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(I,{toggleModal:P,currentUser:m,handleLogout:function(){d(null),y.logout(),window.location.reload()},dashboard:h,selectedCategory:v,setSelectedCategory:N,focusSearch:C,setFocusSearch:k,menuOpen:U,setMenuOpen:T}),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(e){return r.a.createElement($,Object.assign({},e,{toggleModal:P,setSelectedCategory:N,setFocusSearch:k,setOpenNavbar:T}))}}),r.a.createElement(F,{name:"dashboard",exact:!0,path:"/dashboard",component:pe,setDashboard:E}),r.a.createElement(i.b,{exact:!0,path:"/courses/:id",render:function(e){return r.a.createElement(ge,Object.assign({},e,{toggleModal:P}))}}),r.a.createElement(F,{name:"lessons",exact:!0,path:"/courses/:id/lessons",component:Me}),r.a.createElement(F,{name:"userpage",exact:!0,path:"/userprofile",component:De}),r.a.createElement(F,{name:"createcourse",exact:!0,path:"/createcourse",component:_e}),r.a.createElement(i.b,{path:"*",component:He})),r.a.createElement(Se,{modalOpen:a[0],type:a[1],setModalWin:s,setCurrentUser:d}),r.a.createElement(D,{dashboard:h})))};o.a.render(r.a.createElement(qe,null),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.a44cd759.chunk.js.map